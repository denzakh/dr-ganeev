{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/frontend/js/app.js","app/frontend/js/autoScrollToTag.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","option","duration","durat","itemTag","speed","ofset","parentTag","undefined","noParentOfsetLessWhen","linkNodeList","document","querySelectorAll","Array","prototype","slice","forEach","arr","element","link","getAttribute","querySelector","onclick","event","window","preventDefault","returnValue","startPageYOffset","pageYOffset","box","elemYOffset","top","getBoundingClientRect","left","pageXOffset","ofsetParent","innerWidth","offsetHeight","difference","perTick","currentPageYOffset","scrollToUniversal","scrollTo","setTimeout","console","error","outerHTML"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,GAAA,CAAAS,QAAA,IAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,OAAAI,EAAAH,EAAAI,GAAA,GAAAL,IAAAA,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,CAAA,CAAAa,EAAA,CAAA,SAAAT,EAAAU,EAAAJ,gBCKsBN,EAAQ,sB,yDC8B9BU,EAAOJ,QAAU,SAAUK,GAEvB,IAAIC,EAAWD,EAAOE,OAAS,IAC3BC,EAAUH,EAAOG,SAAW,eAC5BC,EAAQJ,EAAOI,OAAS,IACxBC,EAAQL,EAAOK,OAAS,EACxBC,EAAYN,EAAOM,gBAAaC,EAChCC,EAAwBR,EAAOQ,uBAAyB,EACxDC,EAAeC,SAASC,iBAAiBR,GAC9BS,MAAMC,UAAUC,MAAMlB,KAAKa,EAAc,GAE/CM,QAAS,SAAUxB,EAAGL,EAAG8B,GAE9B,IAcQC,EAdJC,EAAO3B,EAAE4B,aAAa,QAEd,MAARD,EAKCR,SAASU,cAAcF,GAKT,EAAdA,EAAKrB,SAEFoB,EAAUP,SAASU,cAAcF,GAGrC3B,EAAE8B,QAAU,SAAUC,IAClBA,EAAQA,GAASC,OAAOD,OAElBE,eAAiBF,EAAME,iBAAoBF,EAAMG,aAAY,EAGnE,IAAIC,EAAmBH,OAAOI,YAW9B,IAPQC,EAQJC,EAPO,CACHC,KAFAF,EAOkBX,EAPPc,yBAEFD,IAAMH,YACfK,KAAMJ,EAAII,KAAOC,aAKGH,IAExBI,EAAc,EACdxB,SAASU,cAAcd,IAAeiB,OAAOY,WAAa3B,IAC1D0B,EAAcxB,SAASU,cAAcd,GAAW8B,cAMpD,IAAIC,EAAaR,EAAcH,EAAmBrB,EAAQ6B,EAQtDI,EAAUD,EAAapC,EAEvBsC,EAAqBb,GAKzB,SAASc,EAAkBvC,GAEvB,GAAIA,EAAW,EAAG,OAElBsC,GAA0CD,EAC1Cf,OAAOkB,SAAS,EAAEF,GAGlBG,WAAW,WACPF,EAAkBvC,EAAW,IAC7BG,EAAMiC,GAbdG,CAAkBvC,KAjDtB0C,QAAQC,MAAM,mBAAqB1B,GALnCyB,QAAQC,MAAMrD,EAAEsD,UAAY","file":"script.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\"use strict\";\r\n\r\n// ПОДКЛЮЧЕНИЕ\r\n\r\n// плавный скрол к якорям\r\nlet autoScrollToTag = require(\"./autoScrollToTag\");\r\n\r\n\r\n// НАСТРОЙКИ","\"use strict\";\r\n/*\r\n\r\n    :: autoScrollToTag v 1.0.5 ::\r\n\r\nИщет все теги, у которых класс содержит TAG.\r\nБлокирует стандартное действие ссылки. \r\nПо клику делает плавный скрол.\r\n\r\nНастройки:\r\nitemTag - класс ссылки\r\nduration - количество шагов, по умолчанию 100\r\nspeed - скорость скрола, по умолчанию 1000\r\nofset - отступ сверху\r\nparentTag: родительский элемент, высота которого влияет на отступ при прокрутке\r\nnoParentOfsetLessWhen - значение, менее которого высота отступа родительского элемента не будет применяться\r\n\r\nПодключение:\r\n\r\n// плавный скрол к якорям \r\nlet autoScrollToTag = require(\"./autoScrollToTag\");\r\n\r\n// плавный скрол к якорям\r\nautoScrollToTag({\r\n    itemTag: \".js-scroll\",\r\n    duration: \"50\", \r\n    speed: \"1000\",\r\n    ofset: 30,\r\n    parentTag: \".js-scroll-parent\",\r\n    noParentOfsetLessWhen: 1150\r\n});\r\n\r\n\r\n*/\r\n\r\nmodule.exports = function (option) {\r\n\r\n    let duration = option.durat || 100;\r\n    let itemTag = option.itemTag || 'a[href^=\"#\"]';\r\n    let speed = option.speed || 1000;\r\n    let ofset = option.ofset || 0;\r\n    let parentTag = option.parentTag || undefined;\r\n    let noParentOfsetLessWhen = option.noParentOfsetLessWhen || 0;\r\n    let linkNodeList = document.querySelectorAll(itemTag); \r\n    var linkList = Array.prototype.slice.call(linkNodeList, 0);   \r\n\r\n    linkList.forEach (function (a, i, arr) {\r\n\r\n        let link = a.getAttribute(\"href\");\r\n\r\n        if (link == null || \"\") {\r\n            console.error(a.outerHTML + \" не ссылка\"); \r\n            return;\r\n        }\r\n\r\n        if (!document.querySelector(link)) {\r\n            console.error(\"битая ссылка на \" + link); \r\n            return;\r\n        }\r\n\r\n        if  (link.length > 2) {\r\n\r\n            let element = document.querySelector(link);\r\n\r\n            // событие\r\n            a.onclick = function (event) {\r\n                event = event || window.event;\r\n                // preventDefault +ie8\r\n                event.preventDefault ? event.preventDefault() : (event.returnValue=false);\r\n\r\n                // начальная прокрутка страницы\r\n                let startPageYOffset = window.pageYOffset;\r\n\r\n                // положение элемента на странице по Y\r\n                function getCoords(elem) { // кроме IE8-\r\n                    let box = elem.getBoundingClientRect();\r\n                    return {\r\n                        top: box.top + pageYOffset,\r\n                        left: box.left + pageXOffset\r\n                    };\r\n                }\r\n\r\n                let boxCoords = getCoords(element);\r\n                let elemYOffset = boxCoords.top;\r\n\r\n                let ofsetParent = 0;\r\n                if (document.querySelector(parentTag) && (window.innerWidth > noParentOfsetLessWhen) ) {\r\n                    ofsetParent = document.querySelector(parentTag).offsetHeight;   \r\n                }\r\n                \r\n                // Действия:\r\n\r\n                // получаем разницу\r\n                let difference = elemYOffset - startPageYOffset - ofset - ofsetParent;\r\n\r\n                // console.log(\"elemYOffset: \" + elemYOffset);\r\n                // console.log(\"startPageYOffset: \" + startPageYOffset);\r\n                // console.log(\"ofsetParent: \" + ofsetParent);\r\n                // console.log(\"ofset: \" + ofset);\r\n                // console.log(\"difference: \" + difference); \r\n                // делим ее на интервалы\r\n                let perTick = difference / duration;\r\n                // задаем переменную для сохранения текущего положения прокрутки\r\n                let currentPageYOffset = startPageYOffset;\r\n                //  запускаем функцию\r\n                scrollToUniversal(duration);\r\n\r\n                // функция прокрутки (реккурсивная)\r\n                function scrollToUniversal(duration) {\r\n\r\n                    if (duration < 1) return;\r\n                    \r\n                    currentPageYOffset = currentPageYOffset + perTick;\r\n                    window.scrollTo(0,currentPageYOffset);\r\n                    // console.log(currentPageYOffset); \r\n\r\n                    setTimeout(function() {\r\n                        scrollToUniversal(duration - 1);\r\n                    }, (speed/difference) );\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n    });\r\n\r\n};\r\n\r\n\r\n"]}